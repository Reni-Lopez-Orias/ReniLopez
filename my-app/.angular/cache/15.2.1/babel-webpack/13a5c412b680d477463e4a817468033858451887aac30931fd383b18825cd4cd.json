{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Acciones, CodigosRespuesta } from \"../../core/enums/codigo-respuesta\";\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/paises/paises.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/core/services/validador-form-usuarios/validador-form-usuarios.service\";\nimport * as i4 from \"src/app/core/services/spinner/spinner.service\";\nimport * as i5 from \"src/app/core/services/usuarios/usuarios.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"angular-datatables\";\nimport * as i8 from \"../shared/mensaje-error/mensaje-error.component\";\nfunction UsuariosComponent_div_0_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1, \"Seleccione\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuariosComponent_div_0_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.paisSeleccionado[0].nombre, \" \");\n  }\n}\nfunction UsuariosComponent_div_0_option_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pais_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", pais_r5.codigo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pais_r5.nombre, \" \");\n  }\n}\nfunction UsuariosComponent_div_0_tr_74_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\")(17, \"div\", 18);\n    i0.ɵɵelement(18, \"input\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"td\", 27)(20, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function UsuariosComponent_div_0_tr_74_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const usuario_r6 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.seleccionarUsuario(usuario_r6));\n    });\n    i0.ɵɵtext(21, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function UsuariosComponent_div_0_tr_74_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const usuario_r6 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.eliminarUsuario(usuario_r6));\n    });\n    i0.ɵɵtext(23, \" Eliminar \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const usuario_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r6.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r6.apellido);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r6.correoElectronico);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 8, usuario_r6.fechaNacimiento, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(usuario_r6.telefono);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(usuario_r6.paisResidencia);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", usuario_r6.contacto);\n  }\n}\nfunction UsuariosComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 1)(3, \"div\", 3)(4, \"h2\");\n    i0.ɵɵtext(5, \"Mantenimiento\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\")(7, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function UsuariosComponent_div_0_Template_form_ngSubmit_7_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.submitForm());\n    });\n    i0.ɵɵelement(8, \"input\", 5);\n    i0.ɵɵelementStart(9, \"div\", 6)(10, \"label\");\n    i0.ɵɵtext(11, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 7)(13, \"app-mensaje-error\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 6)(15, \"label\");\n    i0.ɵɵtext(16, \"Apellido\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 9)(18, \"app-mensaje-error\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 6)(20, \"label\");\n    i0.ɵɵtext(21, \"Correo Electr\\u00F3nico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 11)(23, \"app-mensaje-error\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 6)(25, \"label\");\n    i0.ɵɵtext(26, \"Fecha de Nacimiento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"input\", 12)(28, \"app-mensaje-error\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 6)(30, \"label\");\n    i0.ɵɵtext(31, \"tel\\u00E9fono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"input\", 13);\n    i0.ɵɵlistener(\"keypress\", function UsuariosComponent_div_0_Template_input_keypress_32_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.validarTelefono($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 6)(34, \"label\", 14);\n    i0.ɵɵtext(35, \"Pa\\u00EDs de Residencia\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"select\", 15);\n    i0.ɵɵtemplate(37, UsuariosComponent_div_0_option_37_Template, 2, 0, \"option\", 16);\n    i0.ɵɵtemplate(38, UsuariosComponent_div_0_option_38_Template, 2, 1, \"option\", 16);\n    i0.ɵɵtemplate(39, UsuariosComponent_div_0_option_39_Template, 2, 2, \"option\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 18);\n    i0.ɵɵelement(41, \"input\", 19);\n    i0.ɵɵelementStart(42, \"label\", 20);\n    i0.ɵɵtext(43, \"\\u00BFDesea recibir informaci\\u00F3n?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"button\", 21);\n    i0.ɵɵlistener(\"keyup.enter\", function UsuariosComponent_div_0_Template_button_keyup_enter_44_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.submitForm());\n    });\n    i0.ɵɵtext(45, \" Enviar \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(46, \"div\", 2)(47, \"div\", 1)(48, \"div\", 3)(49, \"h2\");\n    i0.ɵɵtext(50, \"Listado de Usuarios\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(51, \"div\")(52, \"table\", 22)(53, \"thead\")(54, \"tr\")(55, \"th\");\n    i0.ɵɵtext(56, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"th\");\n    i0.ɵɵtext(58, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"th\");\n    i0.ɵɵtext(60, \"Apellido\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"th\");\n    i0.ɵɵtext(62, \"Correo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"th\");\n    i0.ɵɵtext(64, \"F. Nacimiento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"th\");\n    i0.ɵɵtext(66, \"Tel\\u00E9fono\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"th\");\n    i0.ɵɵtext(68, \"P. Residencia\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"th\");\n    i0.ɵɵtext(70, \"Contacto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"th\");\n    i0.ɵɵtext(72, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(73, \"tbody\");\n    i0.ɵɵtemplate(74, UsuariosComponent_div_0_tr_74_Template, 24, 11, \"tr\", 23);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_5_0;\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.userForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"control\", (tmp_1_0 = ctx_r0.userForm.get(\"nombre\")) == null ? null : tmp_1_0.errors);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"control\", (tmp_2_0 = ctx_r0.userForm.get(\"apellido\")) == null ? null : tmp_2_0.errors);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"control\", (tmp_3_0 = ctx_r0.userForm.get(\"correoElectronico\")) == null ? null : tmp_3_0.errors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"max\", ctx_r0.fecha);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"control\", (tmp_5_0 = ctx_r0.userForm.get(\"fechaNacimiento\")) == null ? null : tmp_5_0.errors);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.paisSeleccionado.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.paisSeleccionado.length != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.paises);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.userForm.invalid);\n    i0.ɵɵadvance(30);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.usuarios);\n  }\n}\nexport class UsuariosComponent {\n  constructor(_paisesService, _fb, _validadorFormUsuariosService, _spinnerService, _usuarioService) {\n    this._paisesService = _paisesService;\n    this._fb = _fb;\n    this._validadorFormUsuariosService = _validadorFormUsuariosService;\n    this._spinnerService = _spinnerService;\n    this._usuarioService = _usuarioService;\n    this.spinner = true;\n    this.paises = new Array();\n    this.fecha = \"\";\n    this.usuarios = new Array();\n    this.paisSeleccionado = [];\n    this.userForm = this._fb.group({\n      id: [null],\n      nombre: ['reni', [Validators.required, this._validadorFormUsuariosService.requerido('Nombre'), this._validadorFormUsuariosService.minimo(3, 'Nombre')]],\n      apellido: ['reni', [Validators.required, this._validadorFormUsuariosService.requerido('Apellido'), this._validadorFormUsuariosService.minimo(3, 'Apellido')]],\n      correoElectronico: ['reni@reni.com', [Validators.required, this._validadorFormUsuariosService.requerido('correoElectronico Electrónico'), this._validadorFormUsuariosService.email]],\n      fechaNacimiento: ['', [Validators.required, this._validadorFormUsuariosService.requerido('Fecha Nacimiento')]],\n      telefono: ['', [Validators.maxLength(8)]],\n      paisResidencia: ['CRC', [Validators.required]],\n      contacto: [false, [Validators.required]]\n    });\n  }\n  ngDoCheck() {\n    //Called every time that the input properties of a component or a directive are checked. Use it to extend change detection by performing a custom check.\n    //Add 'implements DoCheck' to the class.\n    console.log(this.userForm.value);\n  }\n  ngOnInit() {\n    this.obtenerUsuarios();\n    this.formatoFechaForm();\n    this.getSpinner();\n    this.getPaises();\n  }\n  obtenerUsuarios() {\n    this._usuarioService.obtenerUsuarios().subscribe(response => {\n      this.validateResponse(response, Acciones.Ver);\n    });\n  }\n  submitForm() {\n    if (this.userForm.valid) {\n      this.userForm.value.uid ? this.editarUsuario() : this.agregarUsuario();\n    }\n  }\n  agregarUsuario() {\n    let usuario = this.userForm.value;\n    this._usuarioService.agregarUsuario(usuario).subscribe(response => {\n      this.validateResponse(response, Acciones.Agregar);\n    });\n  }\n  editarUsuario() {\n    let usuario = this.userForm.value;\n    this._usuarioService.agregarUsuario(usuario).subscribe(response => {\n      this.validateResponse(response, Acciones.Editar);\n    });\n  }\n  seleccionarUsuario(usuario) {\n    let paisesTemp = this.paises.filter(x => x.codigo == usuario.paisResidencia);\n    this.paisSeleccionado = paisesTemp;\n    this.userForm.get('id')?.setValue(usuario.id);\n    this.userForm.get('nombre')?.setValue(usuario.nombre);\n    this.userForm.get('apellido')?.setValue(usuario.apellido);\n    this.userForm.get('correoElectronico')?.setValue(usuario.correoElectronico);\n    this.userForm.get('fechaNacimiento')?.setValue(new Date(usuario.fechaNacimiento).toISOString().split('T')[0]);\n    this.userForm.get('telefono')?.setValue(usuario.telefono);\n    this.userForm.get('paisResidencia')?.setValue(usuario.paisResidencia);\n    this.userForm.get('contacto')?.setValue(usuario.contacto);\n  }\n  eliminarUsuario(usuario) {\n    this._usuarioService.eliminarUsuario(usuario.id).subscribe(response => {\n      this.validateResponse(response, Acciones.Eliminar);\n    });\n  }\n  validateResponse(response, action) {\n    var agregar = Acciones.Agregar == action && \"Agregado\";\n    var editar = Acciones.Editar == action && \"Editado\";\n    var eliminar = Acciones.Eliminar == action && \"Eliminado\";\n    if (action == Acciones.Ver) {\n      this.usuarios = response.respuesta;\n    }\n    if (response.codigoRespuesta == CodigosRespuesta.Exito) {\n      if (agregar) {\n        Swal.fire(`${agregar} Correctamente!`, 'You clicked the button!', 'success');\n      }\n      if (editar) {\n        Swal.fire(`${editar} Correctamente!`, 'You clicked the button!', 'success');\n      }\n      if (eliminar) {\n        Swal.fire(`${eliminar} Correctamente!`, 'You clicked the button!', 'success');\n      }\n    } else {}\n  }\n  formatoFechaForm() {\n    var fechaTemp = new Date().toISOString();\n    this.fecha = fechaTemp.toString().slice(0, -14);\n  }\n  getSpinner() {\n    this._spinnerService.spinner$.subscribe(data => {\n      this.spinner = data;\n    });\n  }\n  getPaises() {\n    this._paisesService.getPaises().subscribe(data => {\n      this.paises = data;\n      this.paises.sort((x, y) => x.nombre.localeCompare(y.nombre));\n      setTimeout(() => {\n        this._spinnerService.spinner$.emit(false);\n        this.spinner = false;\n      }, 1000);\n    });\n  }\n  customResetForm() {\n    this.userForm.reset({\n      id: null,\n      nombre: '',\n      apellido: '',\n      correoElectronico: '',\n      fechaNacimiento: '',\n      telefono: '',\n      paisResidencia: '',\n      contacto: false\n    });\n  }\n  validarTelefono(event) {\n    let patt = /^([0-9])$/;\n    return patt.test(event.key);\n  }\n}\nUsuariosComponent.ɵfac = function UsuariosComponent_Factory(t) {\n  return new (t || UsuariosComponent)(i0.ɵɵdirectiveInject(i1.PaisesService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ValidadorFormUsuariosService), i0.ɵɵdirectiveInject(i4.SpinnerService), i0.ɵɵdirectiveInject(i5.UsuariosService));\n};\nUsuariosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsuariosComponent,\n  selectors: [[\"app-usuarios\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-6\", \"mt-4\"], [1, \"col-12\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"id\", \"type\", \"text\", \"hidden\", \"\"], [1, \"form-group\"], [\"onkeydown\", \"return /^[a-zA-Z\\u00F1\\u00D1\\u00E1\\u00E9\\u00ED\\u00F3\\u00FA\\u00C1\\u00C9\\u00CD\\u00D3\\u00DA]+$/i.test(event.key)\", \"formControlName\", \"nombre\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", \"text-capitalize\"], [3, \"control\"], [\"onkeydown\", \"return /^[a-zA-Z\\u00F1\\u00D1\\u00E1\\u00E9\\u00ED\\u00F3\\u00FA\\u00C1\\u00C9\\u00CD\\u00D3\\u00DA]+$/i.test(event.key)\", \"formControlName\", \"apellido\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", \"text-capitalize\"], [1, \"margin-botton-error-label\", 3, \"control\"], [\"formControlName\", \"correoElectronico\", \"type\", \"email\", \"required\", \"\", 1, \"form-control\"], [\"value\", \"2020-11-30\", \"formControlName\", \"fechaNacimiento\", \"type\", \"date\", \"required\", \"\", 1, \"form-control\", 3, \"max\"], [\"maxlength\", \"8\", \"minlength\", \"8\", \"formControlName\", \"telefono\", \"type\", \"text\", 1, \"form-control\", 3, \"keypress\"], [\"for\", \"exampleInputPassword1\"], [\"required\", \"\", 1, \"custom-select\"], [\"disabled\", \"\", \"selected\", \"\", 4, \"ngIf\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-group\", \"form-check\"], [\"type\", \"checkbox\", \"formControlName\", \"contacto\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"disabled\", \"keyup.enter\"], [\"datatable\", \"\", 1, \"row-border\", \"hover\", \"table-responsive\"], [4, \"ngFor\", \"ngForOf\"], [\"disabled\", \"\", \"selected\", \"\"], [3, \"value\"], [\"disabled\", \"\", \"type\", \"checkbox\", \"id\", \"exampleCheck1\", 1, \"form-check-input\", 3, \"checked\"], [2, \"display\", \"flex\"], [1, \"btn\", \"btn-warning\", \"mr-2\", \"text-white\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function UsuariosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UsuariosComponent_div_0_Template, 75, 11, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.spinner);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.CheckboxControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.MinLengthValidator, i2.MaxLengthValidator, i2.FormGroupDirective, i2.FormControlName, i7.DataTableDirective, i8.MensajeErrorComponent, i6.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","Acciones","CodigosRespuesta","Swal","i0","UsuariosComponent","constructor","_paisesService","_fb","_validadorFormUsuariosService","_spinnerService","_usuarioService","Array","userForm","group","id","nombre","required","requerido","minimo","apellido","correoElectronico","email","fechaNacimiento","telefono","maxLength","paisResidencia","contacto","ngDoCheck","console","log","value","ngOnInit","obtenerUsuarios","formatoFechaForm","getSpinner","getPaises","subscribe","response","validateResponse","Ver","submitForm","valid","uid","editarUsuario","agregarUsuario","usuario","Agregar","Editar","seleccionarUsuario","paisesTemp","paises","filter","x","codigo","paisSeleccionado","get","setValue","Date","toISOString","split","eliminarUsuario","Eliminar","action","agregar","editar","eliminar","usuarios","respuesta","codigoRespuesta","Exito","fire","fechaTemp","fecha","toString","slice","spinner$","data","spinner","sort","y","localeCompare","setTimeout","emit","customResetForm","reset","validarTelefono","event","patt","test","key","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Usuario\\Documents\\Reni\\reni_lopez_orias\\my-app\\src\\app\\components\\usuarios\\usuarios.component.ts","C:\\Users\\Usuario\\Documents\\Reni\\reni_lopez_orias\\my-app\\src\\app\\components\\usuarios\\usuarios.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { PaisModel } from 'src/app/core/models/Pais.model';\nimport { RespuestUsuariosInterface } from 'src/app/core/models/RespuestaUsuarios.interface';\nimport { PaisesService } from 'src/app/core/services/paises/paises.service';\nimport { SpinnerService } from 'src/app/core/services/spinner/spinner.service';\nimport { UsuariosService } from 'src/app/core/services/usuarios/usuarios.service';\nimport { ValidadorFormUsuariosService } from 'src/app/core/services/validador-form-usuarios/validador-form-usuarios.service';\nimport { Acciones, CodigosRespuesta } from \"../../core/enums/codigo-respuesta\";\nimport Swal from 'sweetalert2'\nimport { UsuarioInterface } from 'src/app/core/models/Usuario.interface';\n\n@Component({\n  selector: 'app-usuarios',\n  templateUrl: './usuarios.component.html',\n  styleUrls: ['./usuarios.component.css']\n})\nexport class UsuariosComponent implements OnInit {\n\n  spinner: boolean = true;\n  userForm: FormGroup;\n  paises: Array<PaisModel> = new Array<PaisModel>();\n  fecha: string = \"\";\n  usuarios: Array<UsuarioInterface> = new Array<UsuarioInterface>();\n  paisSeleccionado:  PaisModel[] = [];\n\n  public constructor(\n    private _paisesService: PaisesService,\n    private _fb: FormBuilder,\n    private _validadorFormUsuariosService: ValidadorFormUsuariosService,\n    public _spinnerService: SpinnerService,\n    private _usuarioService: UsuariosService\n  ) {\n\n    this.userForm = this._fb.group({\n      id: [null],\n      nombre: ['reni', [Validators.required, this._validadorFormUsuariosService.requerido('Nombre'), this._validadorFormUsuariosService.minimo(3, 'Nombre')]],\n      apellido: ['reni', [Validators.required, this._validadorFormUsuariosService.requerido('Apellido'), this._validadorFormUsuariosService.minimo(3, 'Apellido')]],\n      correoElectronico: ['reni@reni.com', [Validators.required, this._validadorFormUsuariosService.requerido('correoElectronico Electrónico'), this._validadorFormUsuariosService.email]],\n      fechaNacimiento: ['', [Validators.required, this._validadorFormUsuariosService.requerido('Fecha Nacimiento')]],\n      telefono: ['', [Validators.maxLength(8)]],\n      paisResidencia: ['CRC', [Validators.required]],\n      contacto: [false, [Validators.required]],\n    });\n\n  }\n\n  ngDoCheck(): void {\n    //Called every time that the input properties of a component or a directive are checked. Use it to extend change detection by performing a custom check.\n    //Add 'implements DoCheck' to the class.\n    console.log(this.userForm.value);\n    \n  }\n  \n  ngOnInit() {\n    this.obtenerUsuarios();\n    this.formatoFechaForm();\n    this.getSpinner();\n    this.getPaises(); \n  }\n\n  obtenerUsuarios(){\n    this._usuarioService.obtenerUsuarios().subscribe(response => { \n      this.validateResponse(response,Acciones.Ver); \n    })\n  }\n\n  submitForm() {\n    if (this.userForm.valid) {\n      (this.userForm.value.uid) ? this.editarUsuario() : this.agregarUsuario();\n    }\n  }\n\n  agregarUsuario() {\n    let usuario = this.userForm.value;\n\n    this._usuarioService.agregarUsuario(usuario).subscribe((response: any) => {\n      this.validateResponse(response, Acciones.Agregar);\n    })\n\n  }\n\n  editarUsuario() {\n    let usuario = this.userForm.value;\n    this._usuarioService.agregarUsuario(usuario).subscribe((response: any) => {\n      this.validateResponse(response, Acciones.Editar);\n    })\n  }\n\n  seleccionarUsuario(usuario: UsuarioInterface){\n    \n    let paisesTemp = this.paises.filter(x => x.codigo == usuario.paisResidencia);\n    \n    this.paisSeleccionado = paisesTemp;\n    this.userForm.get('id')?.setValue(usuario.id);\n    this.userForm.get('nombre')?.setValue(usuario.nombre);\n    this.userForm.get('apellido')?.setValue(usuario.apellido);\n    this.userForm.get('correoElectronico')?.setValue(usuario.correoElectronico);\n    this.userForm.get('fechaNacimiento')?.setValue(new Date(usuario.fechaNacimiento).toISOString().split('T')[0]);\n    this.userForm.get('telefono')?.setValue(usuario.telefono);\n    this.userForm.get('paisResidencia')?.setValue(usuario.paisResidencia);\n    this.userForm.get('contacto')?.setValue(usuario.contacto);\n \n  }\n\n  eliminarUsuario(usuario: UsuarioInterface){\n    this._usuarioService.eliminarUsuario(usuario.id).subscribe( response => {\n      this.validateResponse(response,Acciones.Eliminar);\n    } )\n\n  }\n\n  validateResponse(response: RespuestUsuariosInterface, action: number) {\n\n    var agregar = Acciones.Agregar == action && \"Agregado\";\n    var editar = Acciones.Editar == action && \"Editado\";\n    var eliminar = Acciones.Eliminar == action && \"Eliminado\";\n\n    if (action == Acciones.Ver) {\n      this.usuarios = response.respuesta;\n    }\n\n    if (response.codigoRespuesta == CodigosRespuesta.Exito) {\n\n      if (agregar) {\n        Swal.fire(\n          `${agregar} Correctamente!`,\n          'You clicked the button!',\n          'success'\n        )\n      }\n      if (editar) {\n        Swal.fire(\n          `${editar} Correctamente!`,\n          'You clicked the button!',\n          'success'\n        )\n      }\n      if (eliminar) {\n        Swal.fire(\n          `${eliminar} Correctamente!`,\n          'You clicked the button!',\n          'success'\n        )\n      }\n\n     \n    } else {\n\n    }\n\n  }\n\n  formatoFechaForm() {\n    var fechaTemp = new Date().toISOString();\n    this.fecha = fechaTemp.toString().slice(0, -14);\n  }\n\n\n  getSpinner() {\n    this._spinnerService.spinner$.subscribe(data => {\n      this.spinner = data;\n    })\n  }\n\n  getPaises() {\n\n    this._paisesService.getPaises().subscribe((data: PaisModel[]) => {\n      this.paises = data;\n      this.paises.sort((x, y) => x.nombre.localeCompare(y.nombre));\n\n      setTimeout(() => {\n        this._spinnerService.spinner$.emit(false);\n        this.spinner = false;\n      }, 1000);\n    })\n  }\n\n \n\n  customResetForm() {\n    this.userForm.reset({\n      id: null,\n      nombre: '',\n      apellido: '',\n      correoElectronico: '',\n      fechaNacimiento: '',\n      telefono: '',\n      paisResidencia: '',\n      contacto: false,\n    });\n  }\n\n  validarTelefono(event: any) {\n    let patt = /^([0-9])$/;\n    return patt.test(event.key);\n  }\n\n}\n","<div *ngIf=\"!spinner\" class=\"row\">\n  <div class=\"col-md-6 mt-4\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <h2>Mantenimiento</h2>\n      </div>\n    </div>\n\n    <div>\n      <form autocomplete=\"off\" [formGroup]=\"userForm\" (ngSubmit)=\"submitForm()\">\n        <!-- Nombre -->\n\n        <input formControlName=\"id\" type=\"text\" hidden />\n\n        <div class=\"form-group\">\n          <label>Nombre</label>\n          <input\n            onkeydown=\"return /^[a-zA-ZñÑáéíóúÁÉÍÓÚ]+$/i.test(event.key)\"\n            formControlName=\"nombre\"\n            type=\"text\"\n            class=\"form-control text-capitalize\"\n            required\n          />\n          <app-mensaje-error\n            [control]=\"userForm.get('nombre')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- Apellido -->\n        <div class=\"form-group\">\n          <label>Apellido</label>\n          <input\n            onkeydown=\"return /^[a-zA-ZñÑáéíóúÁÉÍÓÚ]+$/i.test(event.key)\"\n            formControlName=\"apellido\"\n            type=\"text\"\n            class=\"form-control text-capitalize\"\n            required\n          />\n          <app-mensaje-error\n            class=\"margin-botton-error-label\"\n            [control]=\"userForm.get('apellido')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- Correo Electrónico -->\n        <div class=\"form-group\">\n          <label>Correo Electrónico</label>\n          <input\n            formControlName=\"correoElectronico\"\n            type=\"email\"\n            class=\"form-control\"\n            required\n          />\n          <app-mensaje-error\n            class=\"margin-botton-error-label\"\n            [control]=\"userForm.get('correoElectronico')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- fecha nacimiento  -->\n        <div class=\"form-group\">\n          <label>Fecha de Nacimiento</label>\n          <input\n          value=\"2020-11-30\"\n            [max]=\"this.fecha\"\n            formControlName=\"fechaNacimiento\"\n            type=\"date\"\n            class=\"form-control\"\n            required\n          />\n          <app-mensaje-error\n            class=\"margin-botton-error-label\"\n            [control]=\"userForm.get('fechaNacimiento')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- telefono  -->\n        <div class=\"form-group\">\n          <label>teléfono</label>\n          <input\n            (keypress)=\"validarTelefono($event)\"\n            maxlength=\"8\"\n            minlength=\"8\"\n            formControlName=\"telefono\"\n            type=\"text\"\n            class=\"form-control\"\n          />\n        </div>\n\n        <!-- pais de residencia  -->\n        <div class=\"form-group\">\n          <label for=\"exampleInputPassword1\">País de Residencia</label>\n          <select required class=\"custom-select\">\n            <option *ngIf=\"paisSeleccionado.length == 0\" disabled selected>Seleccione</option>\n            <option *ngIf=\"paisSeleccionado.length != 0\" disabled selected> {{ paisSeleccionado[0].nombre }} </option>\n            <option *ngFor=\"let pais of paises\" [value]=\"pais.codigo\">\n              {{ pais.nombre }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"form-group form-check\">\n          <input\n            type=\"checkbox\"\n            formControlName=\"contacto\"\n            class=\"form-check-input\"\n            id=\"exampleCheck1\"\n          />\n          <label class=\"form-check-label\" for=\"exampleCheck1\"\n            >¿Desea recibir información?</label\n          >\n        </div>\n\n        <!--  -->\n        <button\n          [disabled]=\"userForm.invalid\"\n          (keyup.enter)=\"submitForm()\"\n          type=\"submit\"\n          class=\"btn btn-primary btn-block\"\n        >\n          Enviar\n        </button>\n      </form>\n    </div>\n  </div>\n  <div class=\"col-md-6 mt-4\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <h2>Listado de Usuarios</h2>\n      </div>\n    </div>\n\n    <div>\n      <table datatable class=\"row-border hover table-responsive\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Nombre</th>\n            <th>Apellido</th>\n            <th>Correo</th>\n            <th>F. Nacimiento</th>\n            <th>Teléfono</th>\n            <th>P. Residencia</th>\n            <th>Contacto</th>\n            <th>Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let usuario of usuarios; let i = index\">\n            <td>{{ i + 1 }}</td>\n            <td>{{ usuario.nombre }}</td>\n            <td>{{ usuario.apellido }}</td>\n            <td>{{ usuario.correoElectronico }}</td>\n            <td>{{ usuario.fechaNacimiento | date : \"yyyy/MM/dd\" }}</td>\n            <td>{{ usuario.telefono }}</td>\n            <td>{{ usuario.paisResidencia }}</td>\n            <td>\n              <div class=\"form-group form-check\">\n                <input\n                  disabled\n                  type=\"checkbox\"\n                  [checked]=\"usuario.contacto\"\n                  class=\"form-check-input\"\n                  id=\"exampleCheck1\"\n                />\n              </div>\n            </td>\n            <td style=\"display: flex\">\n              <button\n                class=\"btn btn-warning mr-2 text-white\"\n                (click)=\"seleccionarUsuario(usuario)\"\n              >\n                Editar\n              </button>\n              <button class=\"btn btn-danger\" (click)=\"eliminarUsuario(usuario)\">\n                Eliminar\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}