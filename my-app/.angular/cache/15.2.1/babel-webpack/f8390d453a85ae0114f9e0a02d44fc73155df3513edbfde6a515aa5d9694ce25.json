{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/paises/paises.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/core/validador-form-usuarios/validador-form-usuarios.service\";\nimport * as i4 from \"src/app/core/spinner/spinner.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../shared/mensaje-error/mensaje-error.component\";\nfunction UsuariosComponent_option_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pais_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", pais_r1.codigo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pais_r1.nombre, \" \");\n  }\n}\nexport class UsuariosComponent {\n  constructor(_paisesService, _fb, _validadorFormUsuariosService, _spinnerService) {\n    this._paisesService = _paisesService;\n    this._fb = _fb;\n    this._validadorFormUsuariosService = _validadorFormUsuariosService;\n    this._spinnerService = _spinnerService;\n    this.paises = new Array();\n    // paises: Array<PaisesModel> = new Array<PaisesModel>();\n    this.loading = false;\n    this.userForm = this._fb.group({\n      uid: [null],\n      nombre: ['reni', [Validators.required, this._validadorFormUsuariosService.requerido('Nombre'), this._validadorFormUsuariosService.minimo(3, 'Nombre')]],\n      apellido: ['lopez', [Validators.required, this._validadorFormUsuariosService.requerido('Apellido'), this._validadorFormUsuariosService.minimo(3, 'Apellido')]],\n      correo: ['reni@reni.com', [Validators.required, this._validadorFormUsuariosService.requerido('Correo Electrónico'), this._validadorFormUsuariosService.email]],\n      fechaNacimiento: ['', [Validators.required, this._validadorFormUsuariosService.requerido('Fecha Nacimiento')]],\n      telefono: ['', [Validators.maxLength(8)]],\n      paisResidencia: ['', [Validators.required]],\n      contacto: [false, [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this._spinnerService.spinner$.emit(true);\n    this.getPaises();\n  }\n  validarTelefono(event) {\n    let patt = /^([0-9])$/;\n    return patt.test(event.key);\n  }\n  getPaises() {\n    this._paisesService.getPaises().subscribe(data => {\n      this.paises = data;\n      this.paises.sort((x, y) => x.nombre.localeCompare(y.nombre));\n      // tiempo para ver loading\n      setTimeout(() => {\n        this._spinnerService.spinner$.emit(false);\n      }, 1000);\n    });\n  }\n  submitForm() {\n    // this.userForm.get('fechaNacimiento')?.setValue(formatoFecha)\n    console.log(this.userForm);\n    if (this.userForm.valid) {\n      this.loading = true;\n      this.userForm.value.uid ? this.editarUsuario() : this.agregarUsuario();\n      this.userForm.reset();\n      this.loading = false;\n    }\n  }\n  agregarUsuario() {\n    console.log(this.userForm);\n  }\n  editarUsuario() {}\n}\nUsuariosComponent.ɵfac = function UsuariosComponent_Factory(t) {\n  return new (t || UsuariosComponent)(i0.ɵɵdirectiveInject(i1.PaisesService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ValidadorFormUsuariosService), i0.ɵɵdirectiveInject(i4.SpinnerService));\n};\nUsuariosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsuariosComponent,\n  selectors: [[\"app-usuarios\"]],\n  decls: 99,\n  vars: 6,\n  consts: [[1, \"row\"], [1, \"col-md-6\", \"mt-4\"], [1, \"col-12\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"onkeydown\", \"return /[a-z, ]/i.test(event.key)\", \"formControlName\", \"nombre\", \"type\", \"text\", 1, \"form-control\", \"text-capitalize\"], [3, \"control\"], [\"onkeydown\", \"return /[a-z, ]/i.test(event.key)\", \"formControlName\", \"apellido\", \"type\", \"text\", 1, \"form-control\", \"text-capitalize\"], [1, \"margin-botton-error-label\", 3, \"control\"], [\"formControlName\", \"correo\", \"type\", \"email\", 1, \"form-control\"], [\"formControlName\", \"fechaNacimiento\", \"type\", \"date\", 1, \"form-control\"], [\"maxlength\", \"8\", \"formControlName\", \"telefono\", \"type\", \"text\", 1, \"form-control\", 3, \"keypress\"], [\"for\", \"exampleInputPassword1\"], [\"formControlName\", \"paisResidencia\", 1, \"custom-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-group\", \"form-check\"], [\"type\", \"checkbox\", \"formControlName\", \"contacto\", \"id\", \"exampleCheck1\", 1, \"form-check-input\"], [\"for\", \"exampleCheck1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"keyup.enter\"], [1, \"table\"], [\"scope\", \"col\"], [\"scope\", \"row\"], [1, \"btn\", \"btn-warning\"], [3, \"value\"]],\n  template: function UsuariosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 0)(3, \"div\", 2)(4, \"h2\");\n      i0.ɵɵtext(5, \"Mantenimiento\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\")(7, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function UsuariosComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(8, \"div\", 4)(9, \"label\");\n      i0.ɵɵtext(10, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 5)(12, \"app-mensaje-error\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\");\n      i0.ɵɵtext(15, \"Apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 7)(17, \"app-mensaje-error\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 4)(19, \"label\");\n      i0.ɵɵtext(20, \"Correo Electr\\u00F3nico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 9)(22, \"app-mensaje-error\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 4)(24, \"label\");\n      i0.ɵɵtext(25, \"Fecha de Nacimiento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 10)(27, \"app-mensaje-error\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 4)(29, \"label\");\n      i0.ɵɵtext(30, \"tel\\u00E9fono\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"input\", 11);\n      i0.ɵɵlistener(\"keypress\", function UsuariosComponent_Template_input_keypress_31_listener($event) {\n        return ctx.validarTelefono($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\", 4)(33, \"label\", 12);\n      i0.ɵɵtext(34, \"Pa\\u00EDs de Residencia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"select\", 13);\n      i0.ɵɵtemplate(36, UsuariosComponent_option_36_Template, 2, 2, \"option\", 14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"div\", 15);\n      i0.ɵɵelement(38, \"input\", 16);\n      i0.ɵɵelementStart(39, \"label\", 17);\n      i0.ɵɵtext(40, \"\\u00BFDesea recibir informaci\\u00F3n?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"button\", 18);\n      i0.ɵɵlistener(\"keyup.enter\", function UsuariosComponent_Template_button_keyup_enter_41_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵtext(42, \" Enviar \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(43, \"div\", 1)(44, \"div\", 0)(45, \"div\", 2)(46, \"h2\");\n      i0.ɵɵtext(47, \"Listado de Usuarios\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(48, \"div\")(49, \"table\", 19)(50, \"thead\")(51, \"tr\")(52, \"th\", 20);\n      i0.ɵɵtext(53, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"th\", 20);\n      i0.ɵɵtext(55, \"First\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"th\", 20);\n      i0.ɵɵtext(57, \"Last\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"th\", 20);\n      i0.ɵɵtext(59, \"Handle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"th\", 20);\n      i0.ɵɵtext(61, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(62, \"tbody\")(63, \"tr\")(64, \"th\", 21);\n      i0.ɵɵtext(65, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"td\");\n      i0.ɵɵtext(67, \"Mark\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(68, \"td\");\n      i0.ɵɵtext(69, \"Otto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"td\");\n      i0.ɵɵtext(71, \"@mdo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"td\")(73, \"button\", 22);\n      i0.ɵɵtext(74, \"Editar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(75, \"tr\")(76, \"th\", 21);\n      i0.ɵɵtext(77, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(78, \"td\");\n      i0.ɵɵtext(79, \"Jacob\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"td\");\n      i0.ɵɵtext(81, \"Thornton\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(82, \"td\");\n      i0.ɵɵtext(83, \"@fat\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"td\")(85, \"button\", 22);\n      i0.ɵɵtext(86, \"Editar\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(87, \"tr\")(88, \"th\", 21);\n      i0.ɵɵtext(89, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(90, \"td\");\n      i0.ɵɵtext(91, \"Larry\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"td\");\n      i0.ɵɵtext(93, \"the Bird\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(94, \"td\");\n      i0.ɵɵtext(95, \"@twitter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(96, \"td\")(97, \"button\", 22);\n      i0.ɵɵtext(98, \"Editar\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"control\", (tmp_1_0 = ctx.userForm.get(\"nombre\")) == null ? null : tmp_1_0.errors);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"control\", (tmp_2_0 = ctx.userForm.get(\"apellido\")) == null ? null : tmp_2_0.errors);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"control\", (tmp_3_0 = ctx.userForm.get(\"correo\")) == null ? null : tmp_3_0.errors);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"control\", (tmp_4_0 = ctx.userForm.get(\"fechaNacimiento\")) == null ? null : tmp_4_0.errors);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paises);\n    }\n  },\n  dependencies: [i5.NgForOf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.CheckboxControlValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.MaxLengthValidator, i2.FormGroupDirective, i2.FormControlName, i6.MensajeErrorComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;;;IC8EvDC,kCAA0D;IACxDA,YACF;IAAAA,iBAAS;;;;IAF2BA,sCAAqB;IACvDA,eACF;IADEA,+CACF;;;ADpEZ,OAAM,MAAOC,iBAAiB;EAO5BC,YACUC,cAA6B,EAC7BC,GAAgB,EAChBC,6BAA2D,EAC3DC,eAA+B;IAH/B,mBAAc,GAAdH,cAAc;IACd,QAAG,GAAHC,GAAG;IACH,kCAA6B,GAA7BC,6BAA6B;IAC7B,oBAAe,GAAfC,eAAe;IARzB,WAAM,GAAqB,IAAIC,KAAK,EAAa;IACjD;IACA,YAAO,GAAY,KAAK;IAStB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACJ,GAAG,CAACK,KAAK,CAAC;MAC7BC,GAAG,EAAE,CAAC,IAAI,CAAC;MACXC,MAAM,EAAE,CAAC,MAAM,EAAE,CAACZ,UAAU,CAACa,QAAQ,EAAE,IAAI,CAACP,6BAA6B,CAACQ,SAAS,CAAC,QAAQ,CAAC,EAAE,IAAI,CAACR,6BAA6B,CAACS,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;MACvJC,QAAQ,EAAE,CAAC,OAAO,EAAE,CAAChB,UAAU,CAACa,QAAQ,EAAE,IAAI,CAACP,6BAA6B,CAACQ,SAAS,CAAC,UAAU,CAAC,EAAE,IAAI,CAACR,6BAA6B,CAACS,MAAM,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC;MAC9JE,MAAM,EAAE,CAAC,eAAe,EAAE,CAACjB,UAAU,CAACa,QAAQ,EAAE,IAAI,CAACP,6BAA6B,CAACQ,SAAS,CAAC,oBAAoB,CAAC,EAAE,IAAI,CAACR,6BAA6B,CAACY,KAAK,CAAC,CAAC;MAC9JC,eAAe,EAAE,CAAC,EAAE,EAAE,CAACnB,UAAU,CAACa,QAAQ,EAAE,IAAI,CAACP,6BAA6B,CAACQ,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;MAC9GM,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACpB,UAAU,CAACqB,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACzCC,cAAc,EAAE,CAAC,EAAE,EAAE,CAACtB,UAAU,CAACa,QAAQ,CAAC,CAAC;MAC3CU,QAAQ,EAAE,CAAC,KAAK,EAAE,CAACvB,UAAU,CAACa,QAAQ,CAAC;KACxC,CAAC;EAEJ;EAEAW,QAAQ;IACN,IAAI,CAACjB,eAAe,CAACkB,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAC,eAAe,CAACC,KAAU;IACxB,IAAIC,IAAI,GAAG,WAAW;IACtB,OAAOA,IAAI,CAACC,IAAI,CAACF,KAAK,CAACG,GAAG,CAAC;EAC7B;EAEAL,SAAS;IAEP,IAAI,CAACvB,cAAc,CAACuB,SAAS,EAAE,CAACM,SAAS,CAAEC,IAAiB,IAAI;MAC9D,IAAI,CAACC,MAAM,GAAGD,IAAI;MAClB,IAAI,CAACC,MAAM,CAACC,IAAI,CAAE,CAACC,CAAC,EAACC,CAAC,KAAKD,CAAC,CAACzB,MAAM,CAAC2B,aAAa,CAACD,CAAC,CAAC1B,MAAM,CAAC,CAAC;MAE5D;MACA4B,UAAU,CAAC,MAAK;QACd,IAAI,CAACjC,eAAe,CAACkB,QAAQ,CAACC,IAAI,CAAC,KAAK,CAAC;MAC3C,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC;EACJ;EAEAe,UAAU;IAGR;IAEJC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClC,QAAQ,CAAC;IAEtB,IAAI,IAAI,CAACA,QAAQ,CAACmC,KAAK,EAAE;MAIvB,IAAI,CAACC,OAAO,GAAG,IAAI;MAClB,IAAI,CAACpC,QAAQ,CAACqC,KAAK,CAACnC,GAAG,GAAI,IAAI,CAACoC,aAAa,EAAE,GAAG,IAAI,CAACC,cAAc,EAAE;MACxE,IAAI,CAACvC,QAAQ,CAACwC,KAAK,EAAE;MACrB,IAAI,CAACJ,OAAO,GAAG,KAAK;;EAGxB;EAEAG,cAAc;IACZN,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClC,QAAQ,CAAC;EAE5B;EAEAsC,aAAa,IAEb;;AA5EW7C,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAgD;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb9BrD,8BAAiB;MAILA,6BAAa;MAAAA,iBAAK;MAI1BA,2BAAK;MAC6CA;QAAA,OAAYsD,gBAAY;MAAA,EAAC;MAEvEtD,8BAAwB;MACfA,uBAAM;MAAAA,iBAAQ;MACrBA,4BAKE;MAIJA,iBAAM;MAGNA,+BAAwB;MACfA,yBAAQ;MAAAA,iBAAQ;MACvBA,4BAKE;MAKJA,iBAAM;MAGNA,+BAAwB;MACfA,wCAAkB;MAAAA,iBAAQ;MACjCA,4BAAoE;MAKtEA,iBAAM;MAGNA,+BAAwB;MACfA,oCAAmB;MAAAA,iBAAQ;MAClCA,6BAIE;MAKJA,iBAAM;MAGNA,+BAAwB;MACfA,8BAAQ;MAAAA,iBAAQ;MACvBA,kCAME;MALAA;QAAA,OAAYsD,2BAAuB;MAAA,EAAC;MADtCtD,iBAME;MAIJA,+BAAwB;MACaA,wCAAkB;MAAAA,iBAAQ;MAC7DA,mCAA+D;MAC7DA,2EAES;MACXA,iBAAS;MAGXA,gCAAmC;MACjCA,6BAKE;MACFA,kCACG;MAAAA,sDAA2B;MAAAA,iBAC7B;MAIHA,mCAIC;MAHCA;QAAA,OAAesD,gBAAY;MAAA,EAAC;MAI5BtD,yBACF;MAAAA,iBAAS;MAIfA,+BAA4B;MAGlBA,oCAAmB;MAAAA,iBAAK;MAIhCA,4BAAK;MAImBA,kBAAC;MAAAA,iBAAK;MACtBA,+BAAgB;MAAAA,sBAAK;MAAAA,iBAAK;MAC1BA,+BAAgB;MAAAA,qBAAI;MAAAA,iBAAK;MACzBA,+BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAC3BA,+BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAGjCA,8BAAO;MAEaA,kBAAC;MAAAA,iBAAK;MACtBA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAC8BA,uBAAM;MAAAA,iBAAS;MAGnDA,2BAAI;MACcA,kBAAC;MAAAA,iBAAK;MACtBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAC8BA,uBAAM;MAAAA,iBAAS;MAGnDA,2BAAI;MACcA,kBAAC;MAAAA,iBAAK;MACtBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAC8BA,uBAAM;MAAAA,iBAAS;;;;;;;MA9I9BA,eAAsB;MAAtBA,wCAAsB;MAWzCA,eAA0C;MAA1CA,gGAA0C;MAe1CA,eAA4C;MAA5CA,kGAA4C;MAU5CA,eAA0C;MAA1CA,gGAA0C;MAc1CA,eAAmD;MAAnDA,yGAAmD;MAoB1BA,eAAS;MAATA,oCAAS","names":["Validators","i0","UsuariosComponent","constructor","_paisesService","_fb","_validadorFormUsuariosService","_spinnerService","Array","userForm","group","uid","nombre","required","requerido","minimo","apellido","correo","email","fechaNacimiento","telefono","maxLength","paisResidencia","contacto","ngOnInit","spinner$","emit","getPaises","validarTelefono","event","patt","test","key","subscribe","data","paises","sort","x","y","localeCompare","setTimeout","submitForm","console","log","valid","loading","value","editarUsuario","agregarUsuario","reset","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Usuario\\Documents\\Reni\\reni_lopez_orias\\my-app\\src\\app\\components\\usuarios\\usuarios.component.ts","C:\\Users\\Usuario\\Documents\\Reni\\reni_lopez_orias\\my-app\\src\\app\\components\\usuarios\\usuarios.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { PaisModel } from 'src/app/core/models/Pais.model';\nimport { PaisesModel } from 'src/app/core/models/Paises.model';\nimport { PaisesService } from 'src/app/core/paises/paises.service';\nimport { SpinnerService } from 'src/app/core/spinner/spinner.service';\nimport { ValidadorFormUsuariosService } from 'src/app/core/validador-form-usuarios/validador-form-usuarios.service';\n\n@Component({\n  selector: 'app-usuarios',\n  templateUrl: './usuarios.component.html',\n  styleUrls: ['./usuarios.component.css']\n})\nexport class UsuariosComponent implements OnInit {\n\n  userForm: FormGroup;\n  paises: Array<PaisModel> = new Array<PaisModel>();\n  // paises: Array<PaisesModel> = new Array<PaisesModel>();\n  loading: boolean = false;\n\n  public constructor(\n    private _paisesService: PaisesService,\n    private _fb: FormBuilder,\n    private _validadorFormUsuariosService: ValidadorFormUsuariosService,\n    private _spinnerService: SpinnerService\n  ) {\n\n    this.userForm = this._fb.group({\n      uid: [null],\n      nombre: ['reni', [Validators.required, this._validadorFormUsuariosService.requerido('Nombre'), this._validadorFormUsuariosService.minimo(3, 'Nombre')]],\n      apellido: ['lopez', [Validators.required, this._validadorFormUsuariosService.requerido('Apellido'), this._validadorFormUsuariosService.minimo(3, 'Apellido')]],\n      correo: ['reni@reni.com', [Validators.required, this._validadorFormUsuariosService.requerido('Correo Electrónico'), this._validadorFormUsuariosService.email]],\n      fechaNacimiento: ['', [Validators.required, this._validadorFormUsuariosService.requerido('Fecha Nacimiento')]],\n      telefono: ['', [Validators.maxLength(8)]],\n      paisResidencia: ['', [Validators.required]],\n      contacto: [false, [Validators.required]],\n    });\n\n  }\n\n  ngOnInit() {\n    this._spinnerService.spinner$.emit(true);\n    this.getPaises();\n  }\n\n  validarTelefono(event: any) {\n    let patt = /^([0-9])$/;\n    return patt.test(event.key);\n  }\n\n  getPaises() {\n    \n    this._paisesService.getPaises().subscribe((data: PaisModel[]) => {\n      this.paises = data;\n      this.paises.sort( (x,y) => x.nombre.localeCompare(y.nombre));\n\n      // tiempo para ver loading\n      setTimeout(() => {\n        this._spinnerService.spinner$.emit(false);\n      }, 1000);\n    })\n  }\n\n  submitForm() {\n    \n    \n    // this.userForm.get('fechaNacimiento')?.setValue(formatoFecha)\n    \nconsole.log(this.userForm);\n\n    if (this.userForm.valid) {\n\n\n\n      this.loading = true;\n      (this.userForm.value.uid) ? this.editarUsuario() : this.agregarUsuario();\n      this.userForm.reset();\n      this.loading = false;\n    }\n\n  }\n\n  agregarUsuario() {\n    console.log(this.userForm);\n\n  }\n\n  editarUsuario() {\n\n  }\n\n}\n","<div class=\"row\">\n  <div class=\"col-md-6  mt-4\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <h2>Mantenimiento</h2>\n      </div>\n    </div>\n\n    <div>\n      <form autocomplete=\"off\" [formGroup]=\"userForm\" (ngSubmit)=\"submitForm()\">\n        <!-- Nombre -->\n        <div class=\"form-group\">\n          <label>Nombre</label>\n          <input\n            onkeydown=\"return /[a-z, ]/i.test(event.key)\"\n            formControlName=\"nombre\"\n            type=\"text\"\n            class=\"form-control text-capitalize\"\n          />\n          <app-mensaje-error\n            [control]=\"userForm.get('nombre')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- Apellido -->\n        <div class=\"form-group\">\n          <label>Apellido</label>\n          <input\n            onkeydown=\"return /[a-z, ]/i.test(event.key)\"\n            formControlName=\"apellido\"\n            type=\"text\"\n            class=\"form-control text-capitalize\"\n          />\n          <app-mensaje-error\n            class=\"margin-botton-error-label\"\n            [control]=\"userForm.get('apellido')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- Correo Electrónico -->\n        <div class=\"form-group\">\n          <label>Correo Electrónico</label>\n          <input formControlName=\"correo\" type=\"email\" class=\"form-control\" />\n          <app-mensaje-error\n            class=\"margin-botton-error-label\"\n            [control]=\"userForm.get('correo')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- fecha nacimiento  -->\n        <div class=\"form-group\">\n          <label>Fecha de Nacimiento</label>\n          <input\n            formControlName=\"fechaNacimiento\"\n            type=\"date\"\n            class=\"form-control\"\n          />\n          <app-mensaje-error\n            class=\"margin-botton-error-label\"\n            [control]=\"userForm.get('fechaNacimiento')?.errors\"\n          ></app-mensaje-error>\n        </div>\n\n        <!-- telefono  -->\n        <div class=\"form-group\">\n          <label>teléfono</label>\n          <input\n            (keypress)=\"validarTelefono($event)\"\n            maxlength=\"8\"\n            formControlName=\"telefono\"\n            type=\"text\"\n            class=\"form-control\"\n          />\n        </div>\n\n        <!-- pais de residencia  -->\n        <div class=\"form-group\">\n          <label for=\"exampleInputPassword1\">País de Residencia</label>\n          <select formControlName=\"paisResidencia\" class=\"custom-select\">\n            <option *ngFor=\"let pais of paises\" [value]=\"pais.codigo\">\n              {{ pais.nombre }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"form-group form-check\">\n          <input\n            type=\"checkbox\"\n            formControlName=\"contacto\"\n            class=\"form-check-input\"\n            id=\"exampleCheck1\"\n          />\n          <label class=\"form-check-label\" for=\"exampleCheck1\"\n            >¿Desea recibir información?</label\n          >\n        </div>\n\n        <!-- disabled=\"userForm.valid\" -->\n        <button\n          (keyup.enter)=\"submitForm()\"\n          type=\"submit\"\n          class=\"btn btn-primary btn-block\"\n        >\n          Enviar\n        </button>\n      </form>\n    </div>\n  </div>\n  <div class=\"col-md-6  mt-4\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <h2>Listado de Usuarios</h2>\n      </div>\n    </div>\n\n    <div>\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">First</th>\n            <th scope=\"col\">Last</th>\n            <th scope=\"col\">Handle</th>\n            <th scope=\"col\">Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <th scope=\"row\">1</th>\n            <td>Mark</td>\n            <td>Otto</td>\n            <td>@mdo</td>\n            <td>\n              <button class=\"btn btn-warning\">Editar</button>\n            </td>\n          </tr>\n          <tr>\n            <th scope=\"row\">2</th>\n            <td>Jacob</td>\n            <td>Thornton</td>\n            <td>@fat</td>\n            <td>\n              <button class=\"btn btn-warning\">Editar</button>\n            </td>\n          </tr>\n          <tr>\n            <th scope=\"row\">3</th>\n            <td>Larry</td>\n            <td>the Bird</td>\n            <td>@twitter</td>\n            <td>\n              <button class=\"btn btn-warning\">Editar</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}